<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VERIFY CREDENTIALS 🗹</title>

    <link rel="shortcut icon" href="https://raw.githubusercontent.com/joeldom/asset/main/favicon.ico" rel="icon" type="image/x-icon">
    <link rel="icon shortcut" href="https://raw.githubusercontent.com/joeldom/asset/main/favicon/64x64.png" sizes="64x64" />
    <link rel="icon shortcut" href="https://raw.githubusercontent.com/joeldom/asset/main/favicon/128x128.png" sizes="128x128" />
    <link rel="icon shortcut" href="https://raw.githubusercontent.com/joeldom/asset/main/favicon/192x192.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/joeldom/asset/main/favicon/76x76.png" sizes="76x76" />
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/joeldom/asset/main/favicon/120x120.png" sizes="120x120" />
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/joeldom/asset/main/favicon/152x152.png" sizes="152x152" />
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/joeldom/asset/main/favicon/180x180.png" sizes="180x180" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://joeldom.github.io/redesign/greybox/css/coma.css" rel="stylesheet">
    <!-- <link href="../../redesign/greybox/css/coma.css" rel="stylesheet"> -->
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            background-color: #1a1e1c;
        }
        
        .password-form {
            background: #fff;
            padding: 20px;
            border-radius: 0px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        input {
            padding: 10px;
            margin: 5px 0;
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 0px;
        }
        
        button {
            padding: 10px;
            width: 100%;
            background-color: #1a3acc;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        
        button:hover {
            background-color: #000E4E;
        }
        
        .login {
            display: flex;
            justify-content: center;
            flex-direction: row;
        }
        
        .verify,
        .warning {
            padding: 1em 2em;
            margin: 0 auto;
            display: flex;
            background: #000;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            -ms-flex-align: end;
            transition: background 0.93s ease, box-shadow 0.93s ease, border 0.93s ease;
            max-width: 108px;
        }
        
        .verify:hover {
            background: #000e4e;
            transition: background 0.93s ease, box-shadow 0.93s ease, border 0.93s ease;
        }
        
        .warning:hover {
            background: #4e0009;
            transition: background 0.93s ease, box-shadow 0.93s ease, border 0.93s ease;
        }
        
        .login input:focus-visible {
            border: 1px solid #6b7e80;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset, 0 0 2px rgba(97, 97, 97, 0.487);
            outline: 0 none;
            transition: background 0.93s ease, box-shadow 0.93s ease, border 0.93s ease;
            background: #eeeeee;
        }
        
        .toast {
            background: #88888875;
            font-size: .85em;
            z-index: 10000;
        }
        
        .toast-header {
            background-color: #0000;
            font-size: 12px;
            font-style: normal;
            font-weight: 100;
            color: #9D9D9D;
            border-bottom: none
        }
        
        .toast-header .btn-close {
            width: .85em;
            height: .85em;
        }
        
        .toast-header .btn-close:hover {
            background-color: #FFF;
        }
        
        .toast-body {
            font-size: 12px;
            font-style: normal;
            font-weight: 100;
            color: #7D7D7D;
        }
        
        .toast-body small {
            background-color: #0010154a;
            font-size: 10px;
            font-style: normal;
            font-weight: 100;
            color: #aeaeae;
            display: block;
            padding-left: 1em;
        }
        /* img {
            max-width: 100%;
            max-height: 100%;
        } */
        
        .omega {
            display: block;
            position: absolute;
            bottom: 0;
            margin: 0 auto;
            width: 100%;
            opacity: 0.5;
            text-align: center;
            background: #021317b2;
            background: #203135b2;
            border-top: 1px solid #000000;
            transition: background 1.3s ease;
            z-index: 9999;
        }
        
        .omega:hover {
            background: #000000;
            transition: background 0.93s ease;
        }
        
        .omega a {
            text-decoration: none;
            color: #ccc;
        }
    </style>
    <style>
        /* Overlay styles with gradient animation */
        /* Overlay styles with smooth, slow gradient animation */
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient( 180deg, #000000, #2b0000, #600000, #2b0000, #000000);
            background-size: 100% 400%;
            animation: smoothGradient 12s ease-in-out infinite;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: row;
            z-index: 9998;
            /* adding SVG tiling */
            /* https://raw.githubusercontent.com/joeldom/asset/main/chip-logo.png */
            background-image: url("https://raw.githubusercontent.com/joeldom/asset/main/icons/ic_warning_48px.svg"), linear-gradient( 180deg, #000000, #2b0000, #600000, #2b0000, #000000);
            background-size: 300px 300px, 300% 300%;
            /* Tile SVG, large gradient */
            /* animation: gradientAnimation 5s infinite alternate; */
            /* Animate gradient */
            background-blend-mode: overlay;
            /* Blend SVG and gradient */
        }
        /* Keyframes for smooth gradient animation */
        
        @keyframes smoothGradient {
            0% {
                background-position: 0% 0%;
            }
            50% {
                background-position: 0% 100%;
            }
            100% {
                background-position: 0% 0%;
            }
        }
        /* Centered warning form */
        
        .warning-form {
            border-radius: 0px;
            text-align: center;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            z-index: 9999;
            display: flex;
            flex-direction: row;
        }
        
        .warning-form span {
            font-weight: normal;
            line-height: 1.25em;
            font-size: 12px;
        }
        
        .warning-form-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: white;
            padding: 20px;
            min-width: 303.68px;
        }
        
        .warning-form h1 {
            margin-top: 0;
            margin-bottom: 10px;
        }
        
        .warning-form button {
            padding: 10px 20px;
            background-color: #1a3acc;
            color: white;
            border: none;
            cursor: pointer;
        }
        
        .warning-form button:hover {
            background-color: #000E4E;
        }
        
        .warning-form button:disabled {
            /* background-color: #4e0009; */
            background-color: #454545;
            opacity: .5;
            cursor: not-allowed;
        }
        /* Wiggle animation */
        
        @keyframes wiggle {
            0% {
                transform: translateX(0);
            }
            25% {
                transform: translateX(-5px);
            }
            50% {
                transform: translateX(5px);
            }
            75% {
                transform: translateX(-5px);
            }
            100% {
                transform: translateX(0);
            }
        }
        /* Apply wiggle effect on hover */
        
        .warning-form button:disabled:hover {
            animation: wiggle 0.5s ease-in-out infinite 0.5s;
            /* Animation on hover */
        }
        
        .warning-form label {
            margin: 0;
        }
        
        .warning-form label:hover {
            margin: 0;
            color: #000000;
        }
        
        .warning-form input[type="radio"],
        .warning-form input[type="checkbox"] {
            margin: 0;
            line-height: normal;
            /* width: 1.25em; */
        }
        
        .warning-form input[type="radio"]:hover,
        .warning-form input[type="checkbox"]:hover,
        .warning-form input[type="checkbox"]+label,
        .warning-form input[type="radio"]+label,
        .warning-form input[type="checkbox"]+label:hover,
        .warning-form input[type="radio"]+label:hover {
            cursor: pointer;
        }
        
        .radio-group {
            display: flex;
            flex-direction: row;
            gap: 10px;
            align-items: center;
            justify-content: space-between;
            min-height: 48px;
            width: 100%;
            padding: 0 1em;
        }
        
        .radio-group-sub {
            display: flex;
            gap: 10px;
        }
        
        .warning-form input {
            width: auto;
        }
        
        .warning-form button:disabled[data-title]::after {
            content: attr(data-title);
            background-color: #8a0000;
            color: white;
            font-size: 1em;
            position: absolute;
            padding: 1px 5px 2px 5px;
            white-space: nowrap;
            opacity: 0;
            z-index: 9999999;
            visibility: hidden;
            right: -1em;
            top: -.6em;
        }
        
        .warning-form button:disabled[data-title]:hover::after {
            visibility: visible;
            opacity: 1;
            transition: all 0.1s ease 0.4s;
        }
    </style>
    <!-- <style>
            /* Hide default radio appearance */
        /* Hide the original radio input */
        
        input[type="radio"] {
            display: none;
        }
        /* Style the label to act as the custom radio */
        
        .custom-radio {
            display: inline-flex;
            align-items: center;
            cursor: pointer;
            font-size: 16px;
            color: #333;
        }
        /* Style the custom radio mark */
        
        .radio-mark {
            width: 20px;
            height: 20px;
            border: 2px solid #1a1e1c;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
            position: relative;
            transition: background-color 0.3s, border-color 0.3s;
        }
        /* Checked state */
        
        input[type="radio"]:checked+.radio-mark {
            background-color: #1a1e1c;
            border-color: #1a1e1c;
        }
        /* Inner dot for checked state */
        
        input[type="radio"]:checked+.radio-mark::before {
            content: "";
            width: 10px;
            /* Set size of the inner dot */
            height: 10px;
            background-color: white;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%
    </style> -->
</head>

<body>
    <div class="login">
        <div class="verify">
            <img class="" src="https://raw.githubusercontent.com/joeldom/asset/main/chip-logo.png" width="52px" height="52px" />
            <p class="mt-4">Login</p>
        </div>
        <div class="password-form">
            <form id="loginForm">
                <!-- <img src="https://raw.githubusercontent.com/joeldom/asset/main/chip-logo.png" width="52px" /> -->
                <input type="password" id="password" placeholder="Enter your password">
                <button type="submit" id="submitBtn">Confirm</button>
            </form>


            <!-- Snackbar (Bootstrap Toast) -->
            <div id="snackbar" class="toast position-fixed bottom-0 end-0 p-3" role="alert" aria-live="assertive" aria-atomic="true" style="display: none;">
                <div class="toast-header">
                    <strong class="me-auto">Alert</strong>
                    <small></small>
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
                <div class="toast-body" id="snackbarMessage"></div>
            </div>
        </div>
    </div>
    <p class="omega"><a href="https://joeldom.github.io/redesign/">Joel Dombek</a> © X.X.MMXXIV <a href="https://joeldom.github.io/redesign/sandbox/#login">v1</a></p>
    <!-- <img class="verify mt-5" src="https://raw.githubusercontent.com/joeldom/asset/main/chip-logo.png" width="52px" /> -->

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

    <script>
        // Initial password set to COMPANY_NAME
        let storedPassword = "COMPANY_NAME";
        let snackbar = new bootstrap.Toast(document.getElementById('snackbar'));

        // Function to show snackbar messages
        function showSnackbar(message, errorLog = '') {
            let messageContent = message;
            if (errorLog) {
                messageContent += `<small>${errorLog}</small>`; // Add the error log in small font
            }
            document.getElementById('snackbarMessage').innerHTML = messageContent;
            document.getElementById('snackbar').style.display = 'block';
            snackbar.show();
        }

        // Password validation and button action
        document.getElementById('loginForm').addEventListener('submit', function(event) {
            event.preventDefault();
            let inputPassword = document.getElementById('password').value;

            // Check if the input matches the stored password
            if (inputPassword === storedPassword) {
                showSnackbar("Access granted!");

                // Replace "Submit" with "Proceed" and add a click action to redirect
                let submitBtn = document.getElementById('submitBtn');
                submitBtn.textContent = "Proceed";
                submitBtn.setAttribute("onclick", "window.location.href='https://joeldom.github.io/style-guide/ux/Case-Study/';");

                // Now, fetch the dynamic password AFTER success
                fetchDynamicPassword();

            } else {
                showSnackbar("Access denied!", "Invalid password attempt at " + new Date().toLocaleString() + "<br>Try again in 5 seconds with COMPANY_NAME");;
            }
        });

        // Function to fetch the dynamic password from the JSON file after the initial password is validated
        function fetchDynamicPassword() {
            fetch('https://raw.githubusercontent.com/joeldom/asset/85650484065f940add5dd313e71f76b84ab45822/array/strings.json')
                .then(response => response.json())
                .then(data => {
                    // Update storedPassword with the first element from the array
                    storedPassword = data[0];
                    showSnackbar("Password accepted, you may proceed :)");
                })
                .catch(error => {
                    showSnackbar("Error confirming password", error.message);
                });
        }
    </script>
    <script>
        let clickCount = 0;
        let confirmAttempts = 0;
        let clickTimer;

        // Function to show the warning overlay
        function showWarning() {
            // Check if overlay already exists to prevent duplication
            if (document.querySelector('.overlay')) return;

            // Create overlay with gradient animation
            const overlay = document.createElement('div');
            overlay.className = 'overlay';

            // Centered warning form content
            const warningDiv = document.createElement('div');
            warningDiv.className = 'warning-form';
            warningDiv.innerHTML = `
			<div class="warning"><h1>⚠️</h1><br/> Warning! <span>Suspicious Activity</span></div>
            <div class="warning-form-content">
            <div class="radio-group">
				<p>Are you human?</p>
                <div class="radio-group-sub">
					<input type="radio" id="yesCheck" name="humanCheck" value="yes" />
					<label for="yesCheck">Yes</label>
					<input type="radio" id="noCheck" name="humanCheck" value="no" />
					<label for="noCheck">No</label>
				</div>
            </div>
            <button id="confirmBtn" disabled data-title="Please answer...">Confirm</button>
			</div>
        `;

            overlay.appendChild(warningDiv);
            document.body.appendChild(overlay);

            const yesCheck = document.getElementById('yesCheck');
            const noCheck = document.getElementById('noCheck');
            const confirmBtn = document.getElementById('confirmBtn');

            // Enable the confirm button only if a radio button is selected
            yesCheck.addEventListener('change', () => {
                confirmBtn.disabled = false;
            });
            noCheck.addEventListener('change', () => {
                confirmBtn.disabled = false;
            });

            // Confirm button action based on selection
            confirmBtn.addEventListener('click', () => {
                if (yesCheck.checked) {
                    document.body.removeChild(overlay); // Removes the overlay from the DOM
                } else if (noCheck.checked) {
                    warningDiv.style.display = 'none'; // Hides the warning, keeps overlay
                }
            });
        }

        // Function to track clicks within a 2-second window
        function trackClicks() {
            clickCount++;
            clearTimeout(clickTimer); // Reset timer on each click

            // Start a timer to reset clickCount after 2 seconds
            clickTimer = setTimeout(() => {
                clickCount = 0;
            }, 2000);

            // Show warning if clickCount reaches 5 within 2 seconds
            if (clickCount >= 5) {
                showWarning();
                clickCount = 0; // Reset click count after showing warning
            }
        }

        // Event listener for tracking rapid clicks on the page
        document.body.addEventListener('click', trackClicks);

        // Event listener for tracking failed login attempts
        document.getElementById('loginForm').addEventListener('submit', (event) => {
            confirmAttempts++;

            // Show warning if there are 5 failed attempts
            if (confirmAttempts >= 5) {
                event.preventDefault();
                showWarning();
                confirmAttempts = 0; // Reset attempts after showing warning
            }
        });
    </script>

</body>

</html>